(this["webpackJsonpreact-interactive-paycard"]=this["webpackJsonpreact-interactive-paycard"]||[]).push([[0],{18:function(e,a,t){e.exports=t(27)},23:function(e,a,t){},24:function(e,a,t){},27:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(8),l=t.n(c),s=(t(23),t(1)),m=t(13),i=t(9),d=t(10),o=t(14),u=t(11),p=t(15),h=function(e){function a(e){var t;Object(i.a)(this,a),(t=Object(o.a)(this,Object(u.a)(a).call(this,e))).updateMainState=function(e,a){t.props.onUpdateStateValue({name:e,value:a})},t.handleFormChange=function(e){var a=e.target,r=a.name,n=a.value;t.setState(Object(s.a)({},r,n)),t.updateMainState(r,n)},t.replaceMissingChars=function(e){var a="#### #### #### ####";a=a.split("");var t=e.split(""),r=[];return a.forEach((function(e,a){t[a]?r.push(t[a]):r.push(e)})),r.join("")},t.onCardNumberChange=function(e){var a=e.target,r=a.value,n=a.name,c=r;r=r.replace(/\D/g,""),/^3[47]\d{0,13}$/.test(r)?c=r.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "):/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(r)?c=r.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "):/^\d{0,16}$/.test(r)&&(c=r.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 ")),t.setState(Object(s.a)({},n,c.trimRight())),t.updateMainState(n,c)},t.onCvvFocus=function(e){t.updateMainState("isCardFlipped",!0)},t.onCvvBlur=function(e){t.updateMainState("isCardFlipped",!1)},t.onQiClick=function(e){t.updateMainState("showMyComponent",!0)},t.onCriditClick=function(e){t.updateMainState("showMyComponentcridit",!0)};var r=(new Date).getFullYear();return t.state={fields:{cardNumber:"",name:"",email:"",message:""},errors:{},disabled:!1,showMyComponentcridit:!0,showMyComponent:!0,cardNumber:"",cardMonth:"",cardYear:"",monthsArr:Array.from(new Array(12),(function(e,a){var t=a+1;return t<=9?"0"+t:t})),yearsArr:Array.from(new Array(9),(function(e,a){return r+a}))},t}return Object(p.a)(a,e),Object(d.a)(a,[{key:"handleValidation",value:function(){this.state.cardNumber;var e=this.state.fields,a={},t=!0;if(e.name||(t=!1,a.name="Name field cannot be empty"),"undefined"!==typeof e.name&&!1===!e.name&&(e.name.length>15&&(t=!1,a.name="\u0631\u062c\u0627\u0621\u0627 \u0627\u062f\u062e\u0644\u0631\u0642\u0645\u0627 \u0635\u062d\u064a\u062d\u0627 \u0645\u062a\u0643\u0648\u0646 \u0645\u0646 15 \u0631\u0642\u0645  "),e.name.match(/633[1-5]/)||(t=!1,a.name="\u0631\u062c\u0627\u0621\u0627 \u0627\u062f\u062e\u0644\u0631\u0642\u0645\u0627 \u0635\u062d\u064a\u062d\u0627 \u0645\u062a\u0643\u0648\u0646 \u0645\u0646 5 \u0631\u0642\u0645  "),!e.name.match(/633[1-5]/)&&e.name.length>15&&(t=!1,a.name=" \u0627\u0648 5 \u0631\u062c\u0627\u0621\u0627 \u0627\u062f\u062e\u0644\u0631\u0642\u0645\u0627 \u0635\u062d\u064a\u062d\u0627 \u0645\u062a\u0643\u0648\u0646 \u0645\u0646 15 \u0631\u0642\u0645  "),e.cardNumber||(alert("ko"),t=!1,a.cardNumber="Name field cannot be empty"),"undefined"!==typeof e.cardNumber&&!1===!e.cardNumber&&(alert("ko"),e.cardNumber.length>15&&(t=!1,a.cardNumber="\u0631\u062c\u0627\u0621\u0627 \u0627\u062f\u062e\u0644\u0631\u0642\u0645\u0627 \u0635\u062d\u064a\u062d\u0627 \u0645\u062a\u0643\u0648\u0646 \u0645\u0646 15 \u0631\u0642\u0645  "),e.cardNumber.match(/633[1-5]/)||(t=!1,a.cardNumber="\u0631\u062c\u0627\u0621\u0627 \u0627\u062f\u062e\u0644\u0631\u0642\u0645\u0627 \u0635\u062d\u064a\u062d\u0627 \u0645\u062a\u0643\u0648\u0646 \u0645\u0646 5 \u0631\u0642\u0645  "),!e.cardNumber.match(/633[1-5]/)&&e.cardNumber.length>15&&(t=!1,a.cardNumber=" \u0627\u0648 5 \u0631\u062c\u0627\u0621\u0627 \u0627\u062f\u062e\u0644\u0631\u0642\u0645\u0627 \u0635\u062d\u064a\u062d\u0627 \u0645\u062a\u0643\u0648\u0646 \u0645\u0646 15 \u0631\u0642\u0645  "))),e.email||(t=!1,a.email="Email field cannot be empty"),"undefined"!==typeof e.email&&!1===!e.email){var r=e.email.lastIndexOf("@"),n=e.email.lastIndexOf(".");r<n&&r>0&&-1===e.email.indexOf("@@")&&n>2&&e.email.length-n>2||(t=!1,a.email="Email is not valid")}return e.message||(t=!1,a.message=" Message field cannot be empty"),this.setState({errors:a}),t}},{key:"handleChange",value:function(e,a){var t=this.state.fields;t[e]=a.target.value,this.setState({fields:t})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.handleValidation()?console.log("validation successful"):console.log("validation failed")}},{key:"onChange",value:function(e){new Date(Date.parse(e.target.value));e.target.setCustomValidity("uuu")}},{key:"getSnapshotBeforeUpdate",value:function(){return this.props.cardNumberRef.current.selectionStart}},{key:"componentDidUpdate",value:function(e,a,t){var r=this.props.cardNumberRef.current,n=this.state.cardNumber,c=a.cardNumber;n.length>c.length&&" "===n[t-1]?t+=1:" "===c[t-1]&&(t-=1),r.selectionStart=r.selectionEnd=t}},{key:"render",value:function(){var e,a,t,r=this,c=this.state,l=c.cardMonth,m=c.cardYear,i=c.monthsArr,d=c.yearsArr,o=this.props,u=o.cardNumberRef,p=o.cardHolderRef,h=o.cardDateRef,f=o.cardCvvRef,v=o.onCardInputFocus,b=o.onCardInputBlur;return n.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),method:"POST"},n.a.createElement("div",{className:"card-form"},n.a.createElement("div",{id:"cars",className:"card-list"},this.props.children),n.a.createElement("div",{className:"card-form__inner",id:"card-form__inner"},n.a.createElement("h3",null,"QiPay gateway"),n.a.createElement("h6",null,"All transactions are secure and encrypted"),n.a.createElement("div",{className:"card-header"},n.a.createElement("input",(e={type:"radio",id:"inputy"},Object(s.a)(e,"type","radio"),Object(s.a)(e,"name","exampleRadios"),Object(s.a)(e,"id","exampleRadios1"),Object(s.a)(e,"value","option1"),Object(s.a)(e,"onClick",(function(){r.setState({showMyComponent:!0}),r.updateMainState("showMyComponent",!0),r.setState({showMyComponentcridit:!1}),r.updateMainState("showMyComponent",!0),r.updateMainState("showMyComponentcridit",!1)})),e)),n.a.createElement("label",{className:"form-check-label",for:"exampleRadios1"},"CriditCard"),n.a.createElement("text",null),n.a.createElement("div",{className:"imgs"},n.a.createElement("img",{className:"u2",src:"/yuyu.png",alt:""}),n.a.createElement("img",{className:"u2",src:"/visa.png",alt:""}))),n.a.createElement("div",{id:"all",style:this.state.showMyComponent?{}:{display:"none"}},n.a.createElement("div",{className:"card-input"},n.a.createElement("label",{htmlFor:"cardNumber",className:"card-input__label"},"Card Number"),n.a.createElement("input",{id:"cardnumber",type:"tel",name:"cardNumber",className:"card-input__input",autoComplete:"off",onChange:this.onCardNumberChange,onInput:this.handleChange.bind(this,"cardNumber"),maxLength:"19",ref:u,onFocus:function(e){return v(e,"cardNumber")},onBlur:b,value:this.state.cardNumber}),n.a.createElement("span",{style:{color:"red"}},this.state.errors.name)),n.a.createElement("div",{className:"card-input"},n.a.createElement("label",{htmlFor:"cardName",className:"card-input__label"},"Name on card"),n.a.createElement("input",{id:"cardname",type:"text",className:"card-input__input",autoComplete:"off",name:"cardHolder",onChange:this.handleFormChange,ref:p,onFocus:function(e){return v(e,"cardHolder")},onBlur:b})),n.a.createElement("div",{className:"card-form__row"},n.a.createElement("div",{className:"card-form__col"},n.a.createElement("div",{className:"card-form__group"},n.a.createElement("label",{htmlFor:"cardMonth",className:"card-input__label"},"Expiration Date"),n.a.createElement("select",{className:"card-input__input -select",value:l,name:"cardMonth",onChange:this.handleFormChange,ref:h,onFocus:function(e){return v(e,"cardDate")},onBlur:b},n.a.createElement("option",{value:"",disabled:!0},"Month"),i.map((function(e,a){return n.a.createElement("option",{key:a,value:e},e)}))),n.a.createElement("select",{name:"cardYear",className:"card-input__input -select",value:m,onChange:this.handleFormChange,onFocus:function(e){return v(e,"cardDate")},onBlur:b},n.a.createElement("option",{value:"",disabled:!0},"Year"),d.map((function(e,a){return n.a.createElement("option",{key:a,value:e},e)}))))),n.a.createElement("div",{className:"card-form__col -cvv"},n.a.createElement("div",{className:"card-input"},n.a.createElement("label",{htmlFor:"cardCvv",className:"card-input__label"},"CVV"),n.a.createElement("input",{id:"cvv",type:"tel",className:"card-input__input",maxLength:"4",autoComplete:"off",name:"cardCvv",onChange:this.handleFormChange,onFocus:this.onCvvFocus,onBlur:this.onCvvBlur,ref:f}))))),n.a.createElement("div",{className:"card-header",id:"lo"},n.a.createElement("input",(a={id:"inputy",type:"radio",name:"exampleRadios",className:"radio"},Object(s.a)(a,"id","exampleRadios2"),Object(s.a)(a,"value","option2"),Object(s.a)(a,"alt",""),Object(s.a)(a,"onClick",(function(){r.setState({showMyComponent:!1}),r.updateMainState("showMyComponent",!1),r.setState({showMyComponentcridit:!0}),r.updateMainState("showMyComponentcridit",!0),r.updateMainState("isCardFlipped",!0)})),a)),n.a.createElement("label",{class:"form-check-label",for:"exampleRadios2"},"QiCard"),n.a.createElement("text",null),n.a.createElement("div",{className:"imgsy"},n.a.createElement("img",{className:"u2y",src:"/qic.jpg",alt:""}))),n.a.createElement("div",{id:"Qicard",style:this.state.showMyComponentcridit?{}:{display:"none"}},n.a.createElement("div",{className:"card-form -cvv"},n.a.createElement("div",{className:"card-input"},n.a.createElement("label",{htmlFor:"cardCvv",className:"card-input__label"},"Card Number"),n.a.createElement("input",(t={type:"text",placeholder:"Enter Name",id:"cvv h"},Object(s.a)(t,"type","tel"),Object(s.a)(t,"className","card-input__input name"),Object(s.a)(t,"autoComplete","off"),Object(s.a)(t,"name","cardCvv"),Object(s.a)(t,"onChange",(this.handleFormChange,this.handleChange.bind(this,"name"))),Object(s.a)(t,"onFocus",this.onCvvFocus),Object(s.a)(t,"onBlur",this.onCvvBlur),Object(s.a)(t,"ref",f),Object(s.a)(t,"value",this.state.fields.name),t)),n.a.createElement("span",{style:{color:"red"}},this.state.errors.name))),n.a.createElement("form",{onSubmit:this.handleSubmit.bind(this),method:"POST"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-25"},n.a.createElement("label",{htmlFor:"name"},"Name"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-25"},n.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address")),n.a.createElement("div",{className:"col-75"},n.a.createElement("input",{type:"email",placeholder:"Enter Email",refs:"email","aria-describedby":"emailHelp",onChange:this.handleChange.bind(this,"email"),value:this.state.fields.email}),n.a.createElement("span",{style:{color:"red"}},this.state.errors.email))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-25"},n.a.createElement("label",{htmlFor:"message"},"Message")),n.a.createElement("div",{className:"col-75"},n.a.createElement("textarea",{type:"text",placeholder:"Enter Message",rows:"5",refs:"message",onChange:this.handleChange.bind(this,"message"),value:this.state.fields.message}),n.a.createElement("span",{style:{color:"red"}},this.state.errors.message))),n.a.createElement("div",{className:"row"},n.a.createElement("button",{type:"submit",className:"btn btn-outline-warning paybtn",disabled:this.state.disabled},this.state.disabled?"Sending...":"Send"))),n.a.createElement("div",{className:"card-form__col -cvv"},n.a.createElement("div",{className:"card-input"},n.a.createElement("label",{htmlFor:"cardCvv",className:"card-input__label"},"PIN"),n.a.createElement("input",{id:"cvv",type:"tel",className:"card-input__input",maxLength:"4",autoComplete:"off",name:"cardCvv",onChange:this.handleFormChange,onFocus:this.onCvvFocus,onBlur:this.onCvvBlur,ref:f})))))))}}]),a}(r.Component),f=t(31),v=t(30),b=t(29),E=(t(24),{visa:"^4",mastercard:"^5[1-5]",qi:"633"}),N=function(e){function a(){var e;Object(i.a)(this,a),(e=Object(o.a)(this,Object(u.a)(a).call(this))).cardType=function(){for(var a,t=e.props.cardNumber,r=0,n=Object.entries(E);r<n.length;r++){var c=n[r],l=Object(m.a)(c,2),s=l[0],i=l[1];if(a=new RegExp(i),null!=t.match(a))return s}return"undefine"},e.cardBackgroundName=function(){var e=Math.floor(25*Math.random()+1);return"".concat(e,".jpeg")},e.removeEmptySpaces=function(e){return e.replace(/\s+/g,"")},e.shouldMaskNumber=function(e,a){return 15===e.length?a>4&&a<12:a>4&&a<13},e.outlineElementStyle=function(e){return e?{width:"".concat(e.offsetWidth,"px"),height:"".concat(e.offsetHeight,"px"),transform:"translateX(".concat(e.offsetLeft,"px) translateY(").concat(e.offsetTop,"px)")}:null};var t=e.cardBackgroundName();return e.state={style:{},counter:0,backgroundImgname:t},e}return Object(p.a)(a,e),Object(d.a)(a,[{key:"componentDidUpdate",value:function(e){var a=this.props.currentFocusedElm;if(a&&a!==e.currentFocusedElm){var t=this.outlineElementStyle(a);this.setState({style:t})}}},{key:"maskCardNumber",value:function(e){var a=e.split("");return a.forEach((function(e,t){t>4&&t<14&&" "!==a[t]&&(a[t]="*")})),a}},{key:"render",value:function(){var e=this.props,a=e.cardHolder,t=e.cardNumber,r=e.cardMonth,c=e.cardYear,l=e.cardCvv,s=e.isCardFlipped,m=e.currentFocusedElm,i=e.onCardElementClick,d=e.cardNumberRef,o=e.cardHolderRef,u=e.cardDateRef,p=a.split(""),h=this.maskCardNumber(t);return l=l.split(""),n.a.createElement("div",{className:"card-item "+(s?"-active":"")},n.a.createElement("div",{className:"card-item__side -front"},n.a.createElement("div",{className:"card-item__focus ".concat(m?"-active":""),style:this.state.style}),n.a.createElement("div",{className:"card-item__cover"},n.a.createElement("img",{alt:"",src:""+"/card-background/".concat(this.state.backgroundImgname),className:"card-item__bg"})),n.a.createElement("div",{className:"card-item__wrapper"},n.a.createElement("div",{className:"card-item__top"},n.a.createElement("img",{src:"/chip.png",alt:"",className:"card-item__chip"}),n.a.createElement("div",{className:"card-item__type"},n.a.createElement("img",{alt:this.cardType(),src:""+"/card-type/".concat(this.cardType(),".png"),className:"card-item__typeImg"}))),n.a.createElement("label",{className:"card-item__number",ref:d,onClick:function(){return i("cardNumber")}},n.a.createElement(f.a,{className:"slide-fade-up",component:"div"},t?h.map((function(e,a){return n.a.createElement(v.a,{classNames:"slide-fade-up",timeout:250,key:a},n.a.createElement("div",{className:"card-item__numberItem"},e))})):n.a.createElement(v.a,{classNames:"slide-fade-up",timeout:250},n.a.createElement("div",{className:"card-item__numberItem"},"#")))),n.a.createElement("div",{className:"card-item__content"},n.a.createElement("label",{className:"card-item__info",onClick:function(){return i("cardHolder")},ref:o},n.a.createElement("div",{className:"card-item__holder"},"Card Holder"),n.a.createElement("div",{className:"card-item__name"},n.a.createElement(f.a,{className:"slide-fade-up",component:"div"},"FULL NAME"===a?n.a.createElement(v.a,{classNames:"slide-fade-up",timeout:250},n.a.createElement("div",null,"FULL NAME")):p.map((function(e,a){return n.a.createElement(v.a,{timeout:250,classNames:"slide-fade-right",key:a},n.a.createElement("span",{className:"card-item__nameItem"},e))}))))),n.a.createElement("div",{className:"card-item__date",onClick:function(){return i("cardDate")},ref:u},n.a.createElement("label",{className:"card-item__dateTitle"},"Expires"),n.a.createElement("label",{className:"card-item__dateItem"},n.a.createElement(b.a,{"in-out":!0},r?n.a.createElement(v.a,{classNames:"slide-fade-up",timeout:250,key:r},n.a.createElement("span",null,r)):n.a.createElement(v.a,{classNames:"slide-fade-up",timeout:250,key:r},n.a.createElement("span",null,"MM")))),"/",n.a.createElement("label",{htmlFor:"cardYear",className:"card-item__dateItem"},n.a.createElement(b.a,{"out-in":!0},c?n.a.createElement(v.a,{classNames:"slide-fade-up",timeout:250,key:c},n.a.createElement("span",null,c.toString().substr(-2))):n.a.createElement(v.a,{classNames:"slide-fade-up",timeout:250,key:c},n.a.createElement("span",null,"YY")))))))),n.a.createElement("div",{className:"card-item__side -back"},n.a.createElement("div",{className:"card-item__cover"},n.a.createElement("img",{alt:"",src:""+"/card-background/".concat(this.state.backgroundImgname),className:"card-item__bg"})),n.a.createElement("div",{className:"card-item__band"}),n.a.createElement("div",{className:"card-item__cvv"},n.a.createElement("div",{className:"card-item__cvvTitle"},"CVV"),n.a.createElement("div",{className:"card-item__cvvBand"},l.map((function(e,a){return n.a.createElement("span",{key:a},"*")}))),n.a.createElement("div",{className:"card-item__type"},n.a.createElement("img",{alt:"card-type",src:"/card-type/visa.png",className:"card-item__typeImg"})))))}}]),a}(r.Component);function y(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?y(t,!0).forEach((function(a){Object(s.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var C=function(){var e={cardNumber:"#### #### #### ####",cardHolder:"FULL NAME",cardMonth:"",cardYear:"",cardCvv:"",isCardFlipped:!1,currentFocusedElm:null},a=Object(r.useState)(e),t=Object(m.a)(a,2),c=t[0],l=t[1],i=c.cardNumber,d=c.cardHolder,o=c.cardMonth,u=c.cardYear,p=c.cardCvv,f=c.isCardFlipped,v=c.currentFocusedElm,b={cardNumber:Object(r.useRef)(),cardHolder:Object(r.useRef)(),cardDate:Object(r.useRef)(),cardCvv:Object(r.useRef)()},E=function(e){b[e].current.focus()},y={cardNumber:null,cardHolder:null,cardDate:null};return n.a.createElement("div",{className:"wrapper"},n.a.createElement(h,{onUpdateStateValue:function(a){var t=a.name,r=a.value;l(g({},c,Object(s.a)({},t,r||e[t])))},cardNumberRef:b.cardNumber,cardHolderRef:b.cardHolder,cardDateRef:b.cardDate,onCardInputFocus:function(e,a){l(g({},c,{currentFocusedElm:y[a]}))},onCardInputBlur:function(e){l(g({},c,{currentFocusedElm:null}))}},n.a.createElement(N,{cardNumber:i,cardHolder:d,cardMonth:o,cardYear:u,cardCvv:p,isCardFlipped:f,currentFocusedElm:v,onCardElementClick:function(e){E(e)},cardNumberRef:function(e){return y.cardNumber=e},cardHolderRef:function(e){return y.cardHolder=e},cardDateRef:function(e){return y.cardDate=e}})))};var _=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(C,null))};l.a.render(n.a.createElement(_,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.7ca0ed3f.chunk.js.map